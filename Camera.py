import cv2 as cv
from threading import Timer
from datetime import datetime



class Camera():

    def __init__(self, interval):
        self.interval = interval
        self.timestart = datetime.now()
        
    def update_filename(self):
        self.filename = datetime.now()

    def takePicture(self):
        self.update_filename()
        cam = cv.VideoCapture(0)
        r, image = cam.read()
        if r:
            cv.imwrite(f"{self.filename}--camera.png", image)
            cv.destroyAllWindows()
        timer = Timer(interval=self.interval, function=self.takePicture)
        timer.start()

    def Medusa(self):
        self.timestart = datetime.now()
        self.takePicture()